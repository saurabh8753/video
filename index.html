<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Z-Tera Default Player</title>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
:root{--bg:#0f172a;--card:#1e293b;}

body{
  margin:0;padding:20px;background:var(--bg);
  font-family:system-ui,Segoe UI;color:#fff;
  display:flex;flex-direction:column;align-items:center;
}

.main-card{
  width:100%;max-width:1000px;background:var(--card);
  border-radius:16px;overflow:hidden;
  box-shadow:0 20px 50px rgba(0,0,0,.5);
}

.video-section{position:relative;background:#000;}
.buffering{
  position:absolute;inset:0;display:none;
  align-items:center;justify-content:center;
  background:rgba(0,0,0,.4);z-index:5;
}

video{width:100%;background:#000;}
.content{padding:22px;}
.title{font-size:1.3rem;margin-bottom:12px;}

.meta{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:14px;background:rgba(255,255,255,.05);
  padding:14px;border-radius:12px;margin-bottom:18px;
}

.meta div{font-size:.9rem;color:#94a3b8;}
.actions{display:flex;gap:14px;flex-wrap:wrap;}

.btn{
  flex:1;min-width:200px;padding:14px;
  border-radius:12px;text-decoration:none;
  font-weight:600;display:flex;
  align-items:center;justify-content:center;
  gap:10px;color:#fff;
}

.download{background:#3b82f6}
.fast{background:#10b981}

/* HIGH CTR AD BOX */
.ad-box{
  margin:25px 0;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* Sticky */
#sticky-ad{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
  padding:6px 0;
}

#sticky-ad .close-ad{
  position:absolute;
  right:8px;
  top:4px;
  background:red;
  color:#fff;
  font-size:12px;
  padding:2px 6px;
  border-radius:4px;
  cursor:pointer;
}

#loading{padding:100px;text-align:center;}
</style>
</head>

<body>

<div class="main-card" id="app">
  <div id="loading">
    <i class="fas fa-spinner fa-spin"></i> Loading Video...
  </div>
</div>

<div id="sticky-ad"></div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script>
async function loadVideo(){
  const app=document.getElementById("app");
  const videoUrl=new URLSearchParams(location.search).get("url");

  if(!videoUrl){
    app.innerHTML="<div style='padding:40px;text-align:center'>No URL Found</div>";
    return;
  }

  const api=`https://ztera.yaartunah.workers.dev/?url=${encodeURIComponent(videoUrl)}`;
  const res=await fetch(api);
  const data=await res.json();
  if(data.status!=="success") return;

  const file=data.list[0];
  const stream=file.fast_stream_url?.["480p"] || file.stream_url;

  app.innerHTML=`
  <div class="video-section">
    <div class="buffering" id="buffering">
      <i class="fas fa-spinner fa-spin"></i>
    </div>
    <video id="video" controls playsinline poster="${file.thumbnail}"></video>
  </div>

  <div class="content">
    <div class="title">${file.name}</div>

    <div class="meta">
      <div>üíæ ${file.size_formatted}</div>
      <div>‚è± ${file.duration}</div>
      <div>üé• ${file.quality}</div>
      <div>üìÅ ${file.folder}</div>
    </div>

    <div class="actions">
      <a class="btn download" href="${file.download_link}" target="_blank">
        <i class="fas fa-download"></i> Download
      </a>
      <a class="btn fast" href="${file.fast_download_link}" target="_blank">
        <i class="fas fa-bolt"></i> Fast Download
      </a>
    </div>

    <!-- HIGH CTR INLINE ADS -->
    <div id="ad-area">

      <!-- 300x250 -->
      <div class="ad-box" id="ad-300x250"></div>

      <!-- Native -->
      <div class="ad-box" id="container-900480f9b5ddbf7c34e9918ef9b9770e"></div>

      <!-- 160x300 -->
      <div class="ad-box" id="container-d44514311f6e562115f063a2ee3378ae"></div>

    </div>

  </div>
  `;

  const video=document.getElementById("video");
  const loader=document.getElementById("buffering");

  if(video.canPlayType("application/vnd.apple.mpegurl")){
    video.src=stream;
  }else if(Hls.isSupported()){
    const hls=new Hls();
    hls.loadSource(stream);
    hls.attachMedia(video);
  }

  video.addEventListener("waiting",()=>loader.style.display="flex");
  video.addEventListener("playing",()=>loader.style.display="none");
  video.addEventListener("canplay",()=>loader.style.display="none");
}

loadVideo();
</script>

<!-- HIGH CTR ADS LOAD AFTER 5 SEC -->
<script>
setTimeout(function(){

// 300x250
var box=document.getElementById("ad-300x250");
var o3=document.createElement("script");
o3.innerHTML=`atOptions={key:'50b4b55f05148a736cd8ebf691550dbb',format:'iframe',height:250,width:300,params:{}}`;
box.appendChild(o3);

var s3=document.createElement("script");
s3.src="https://yawncollaremotion.com/50b4b55f05148a736cd8ebf691550dbb/invoke.js";
box.appendChild(s3);

// Native
var s0=document.createElement("script");
s0.src="https://yawncollaremotion.com/900480f9b5ddbf7c34e9918ef9b9770e/invoke.js";
document.getElementById("container-900480f9b5ddbf7c34e9918ef9b9770e").appendChild(s0);

// 160x300
var o1=document.createElement("script");
o1.innerHTML=`atOptions={key:'d44514311f6e562115f063a2ee3378ae',format:'iframe',height:300,width:160,params:{}}`;
document.body.appendChild(o1);

var s1=document.createElement("script");
s1.src="https://yawncollaremotion.com/d44514311f6e562115f063a2ee3378ae/invoke.js";
document.body.appendChild(s1);

// Sticky 90px
var sticky=document.getElementById("sticky-ad");

var close=document.createElement("div");
close.className="close-ad";
close.innerHTML="X";
close.onclick=function(){sticky.style.display="none";};
sticky.appendChild(close);

var o2=document.createElement("script");
o2.innerHTML=`atOptions={key:'a3e9dc25add10d9e1a011af79ed04506',format:'iframe',height:90,width:728,params:{}}`;
sticky.appendChild(o2);

var s2=document.createElement("script");
s2.src="https://yawncollaremotion.com/a3e9dc25add10d9e1a011af79ed04506/invoke.js";
sticky.appendChild(s2);

},5000);
</script>

</body>
</html>
