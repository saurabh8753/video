<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Z-Tera Default Player</title>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
body{
  margin:0;
  padding:20px;
  background:#0f172a;
  font-family:system-ui;
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
}

.main-card{
  width:100%;
  max-width:1000px;
  background:#1e293b;
  border-radius:16px;
  overflow:hidden;
}

video{width:100%;background:#000}
.content{padding:20px}

.actions{
  display:flex;
  gap:14px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:center;
}

.btn{
  min-width:200px;
  padding:14px;
  border-radius:12px;
  text-decoration:none;
  font-weight:600;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  color:#fff;
}

.download{background:#3b82f6}
.fast{background:#10b981}

#ad-top,#ad-bottom,#ad-middle{
  margin:20px 0;
  display:flex;
  justify-content:center;
}
</style>
</head>

<body>

<!-- ðŸ”¥ TOP (original bottom ad moved here) -->
<div id="ad-top"></div>

<div class="main-card" id="app">
  <div style="padding:100px;text-align:center">
    <i class="fas fa-spinner fa-spin"></i> Loading Video...
  </div>
</div>

<!-- ðŸ”¥ BOTTOM (original top ad moved here) -->
<div id="ad-bottom"></div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script>
async function loadVideo(){
  const app=document.getElementById("app");
  const videoUrl=new URLSearchParams(location.search).get("url");

  if(!videoUrl){
    app.innerHTML="<div style='padding:40px;text-align:center'>No URL Found</div>";
    return;
  }

  const api=`https://ztera.yaartunah.workers.dev/?url=${encodeURIComponent(videoUrl)}`;
  const res=await fetch(api);
  const data=await res.json();
  if(data.status!=="success") return;

  const file=data.list[0];
  const stream=file.fast_stream_url?.["480p"] || file.stream_url;

  app.innerHTML=`
  <video id="video" controls playsinline poster="${file.thumbnail}"></video>

  <div class="content">

    <div class="actions">
      <a class="btn download" href="${file.download_link}" target="_blank">
        <i class="fas fa-download"></i> Download
      </a>

      <div id="ad-middle"></div>

      <a class="btn fast" href="${file.fast_download_link}" target="_blank">
        <i class="fas fa-bolt"></i> Fast Download
      </a>
    </div>

  </div>
  `;

  const video=document.getElementById("video");

  if(video.canPlayType("application/vnd.apple.mpegurl")){
    video.src=stream;
  }else if(Hls.isSupported()){
    const hls=new Hls();
    hls.loadSource(stream);
    hls.attachMedia(video);
  }
}

loadVideo();

window.onload=()=>setTimeout(loadAds,1500);

function loadAds(){

  // ðŸ”¥ ORIGINAL BOTTOM AD â†’ NOW TOP
  document.getElementById("ad-top").innerHTML=`
<script>
atOptions={'key':'d44514311f6e562115f063a2ee3378ae','format':'iframe','height':300,'width':160};
<\/script>
<script src="https://yawncollaremotion.com/d44514311f6e562115f063a2ee3378ae/invoke.js"><\/script>
`;

  // ðŸ”¥ ORIGINAL TOP AD â†’ NOW BOTTOM
  document.getElementById("ad-bottom").innerHTML=`
<script async data-cfasync="false" src="https://yawncollaremotion.com/900480f9b5ddbf7c34e9918ef9b9770e/invoke.js"><\/script>
<div id="container-900480f9b5ddbf7c34e9918ef9b9770e"></div>
`;

  // ðŸ”¥ NEW MIDDLE BANNER
  document.getElementById("ad-middle").innerHTML=`
<script>
atOptions={'key':'a3e9dc25add10d9e1a011af79ed04506','format':'iframe','height':90,'width':728};
<\/script>
<script src="https://yawncollaremotion.com/a3e9dc25add10d9e1a011af79ed04506/invoke.js"><\/script>
`;
}
</script>

</body>
</html>
